{include file="head" /}

{include file="menu" /}

<style>
.modern-form-container {
    background: #f5f7fa;
    padding: 30px 20px;
    min-height: calc(100vh - 80px);
}

.modern-card {
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.08);
    margin-bottom: 24px;
    overflow: hidden;
    transition: all 0.3s ease;
}

.modern-card:hover {
    box-shadow: 0 4px 20px rgba(0,0,0,0.12);
}

.card-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: #fff;
    padding: 20px 30px;
    font-size: 18px;
    font-weight: 600;
    border-bottom: none;
}

.card-header i {
    margin-right: 10px;
    font-size: 20px;
}

.card-body {
    padding: 30px;
}

.form-group-modern {
    margin-bottom: 25px;
    position: relative;
}

.form-label-modern {
    display: block;
    font-weight: 600;
    color: #2c3e50;
    margin-bottom: 10px;
    font-size: 14px;
}

.form-label-modern .required {
    color: #e74c3c;
    margin-left: 4px;
}

.form-control-modern {
    width: 100%;
    padding: 12px 16px;
    border: 2px solid #e1e8ed;
    border-radius: 8px;
    font-size: 14px;
    transition: all 0.3s ease;
    background: #fafbfc;
}

.form-control-modern:focus {
    outline: none;
    border-color: #667eea;
    background: #fff;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

.form-control-modern:hover {
    border-color: #c5cfd6;
}

.input-group-modern {
    display: flex;
    gap: 10px;
    align-items: center;
}

.input-group-modern .input-addon {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: #fff;
    padding: 12px 20px;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 500;
    white-space: nowrap;
    min-width: 80px;
    text-align: center;
}

.alert-modern {
    padding: 16px 20px;
    border-radius: 8px;
    margin-top: 12px;
    font-size: 13px;
    line-height: 1.6;
    border: none;
}

.alert-info {
    background: #e3f2fd;
    color: #1976d2;
    border-left: 4px solid #2196f3;
}

.alert-warning {
    background: #fff3e0;
    color: #e65100;
    border-left: 4px solid #ff9800;
}

.btn-submit-modern {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: #fff;
    padding: 14px 48px;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}

.btn-submit-modern:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
}

.btn-submit-modern:active {
    transform: translateY(0);
}

.page-title {
    color: #2c3e50;
    font-size: 28px;
    font-weight: 700;
    margin-bottom: 30px;
    padding-bottom: 15px;
    border-bottom: 3px solid #667eea;
    display: inline-block;
}

.time-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 15px;
}

textarea.form-control-modern {
    resize: vertical;
    min-height: 120px;
    font-family: inherit;
}

select.form-control-modern {
    cursor: pointer;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23667eea' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 16px center;
    background-size: 12px;
    appearance: none;
}

.form-footer {
    text-align: center;
    padding: 30px;
    background: #fafbfc;
    border-radius: 12px;
    margin-top: 30px;
}
</style>

<!--main content start-->
<section id="main-content">
    <section class="wrapper">
        <div class="modern-form-container">
            <div class="row">
                <div class="col-lg-10 col-lg-offset-1">
                    <h1 class="page-title">{$pid?'ç¼–è¾‘äº§å“':'æ·»åŠ äº§å“'}</h1>
                    
                    <form id="formid" method="post">
                        <!-- åŸºç¡€ä¿¡æ¯å¡ç‰‡ -->
                        <div class="modern-card">
                            <div class="card-header">
                                <i class="fa fa-info-circle"></i> åŸºç¡€ä¿¡æ¯
                            </div>
                            <div class="card-body">
                                <div class="form-group-modern">
                                    <label class="form-label-modern">äº§å“åç§° <span class="required">*</span></label>
                                    <input type="text" class="form-control-modern" value="{$ptitle?$ptitle:''}" placeholder="è¯·è¾“å…¥äº§å“åç§°" name="ptitle">
                                </div>

                                <div class="form-group-modern">
                                    <label class="form-label-modern">äº§å“åˆ†ç±» <span class="required">*</span></label>
                                    <select name="cid" class="form-control-modern">
                                        <option value="0">è¯·é€‰æ‹©åˆ†ç±»</option>
                                        <!-- {volist name="proclass" id="vo"} -->
                                        <option {if isset($cid) && $cid == $vo['pcid']} selected="selected" {/if} value="{$vo.pcid}">{$vo.pcname}</option>
                                        <!-- {/volist} -->
                                    </select>
                                </div>

                                <div class="form-group-modern">
                                    <label class="form-label-modern">äº§å“ä»£ç  <span class="required">*</span></label>
                                    <input type="text" class="form-control-modern" value="{$procode?$procode:''}" placeholder="è¯·è¾“å…¥äº§å“ä»£ç ï¼Œå¦‚ï¼šBTCUSD" name="procode">
                                </div>
                            </div>
                        </div>

                        <!-- é£æ§è®¾ç½®å¡ç‰‡ -->
                        <div class="modern-card">
                            <div class="card-header">
                                <i class="fa fa-shield"></i> é£æ§è®¾ç½®
                            </div>
                            <div class="card-body">
                                <div class="form-group-modern">
                                    <label class="form-label-modern">é£æ§æ³¢åŠ¨èŒƒå›´</label>
                                    <div class="input-group-modern">
                                        <span class="input-addon">æœ€å°å€¼</span>
                                        <input type="text" value="{$point_low?$point_low:''}" class="form-control-modern" placeholder="0" name="point_low">
                                        <span class="input-addon">æœ€å¤§å€¼</span>
                                        <input type="text" value="{$point_top?$point_top:''}" class="form-control-modern" placeholder="0" name="point_top">
                                    </div>
                                    <div class="alert-modern alert-warning">
                                        <strong>ğŸ’¡ è¯´æ˜ï¼š</strong> å®¢æˆ·è®¢å•åœ¨æ¡ä»¶èŒƒå›´å†…æ—¶ï¼Œä¼šæ ¹æ®è®¢å•çš„æ¶¨æˆ–è·Œï¼Œè‡ªåŠ¨å‡æˆ–åŠ æœ€å°å€¼ä¸æœ€å¤§å€¼ä¹‹é—´çš„éšæœºæ•°ã€‚ç•™ç©ºæˆ–å¡«0åˆ™ä¸å¼€å¯é£æ§ã€‚
                                    </div>
                                </div>

                                <div class="form-group-modern">
                                    <label class="form-label-modern">éšæœºæ³¢åŠ¨èŒƒå›´</label>
                                    <input type="text" class="form-control-modern" placeholder="å¦‚ï¼š5" name="rands" value="{$rands?$rands:''}">
                                    <div class="alert-modern alert-info">
                                        <strong>ğŸ’¡ è¯´æ˜ï¼š</strong> äº§å“è·å–æ¥å£å€¼åï¼Œä¼šåŠ ä¸ŠÂ±æ­¤å¤„çš„å€¼ã€‚ä¾‹å¦‚å¡«5ï¼Œåˆ™åœ¨æ¥å£è·å–çš„æ•°æ®ä¸­åŠ ä¸Š-5~5ä¹‹é—´çš„éšæœºæ•°ã€‚
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- äº¤æ˜“å‚æ•°å¡ç‰‡ -->
                        <div class="modern-card">
                            <div class="card-header">
                                <i class="fa fa-cog"></i> äº¤æ˜“å‚æ•°
                            </div>
                            <div class="card-body">
                                <div class="form-group-modern">
                                    <label class="form-label-modern">æ—¶é—´ç©æ³•é—´éš”</label>
                                    <input type="text" class="form-control-modern" value="{$protime?$protime:''}" placeholder="å¦‚ï¼š1,3,5,8ï¼ˆå•ä½ï¼šåˆ†é’Ÿï¼‰" name="protime">
                                    <div class="alert-modern alert-info">
                                        <strong>ğŸ’¡ è¯´æ˜ï¼š</strong> ä¾‹å¦‚æ—¶é—´ä¸º1åˆ†ã€3åˆ†ã€5åˆ†ã€8åˆ†ï¼Œåˆ™ç”¨è‹±æ–‡é€—å·åˆ†éš”è¾“å…¥ï¼š1,3,5,8ã€‚å¦‚æ²¡æœ‰æ­¤ç©æ³•åˆ™ç•™ç©ºã€‚å¿…é¡»ä¸ºå››ä¸ªã€‚
                                    </div>
                                </div>

                                <div class="form-group-modern">
                                    <label class="form-label-modern">ç›ˆäºæ¯”ä¾‹ <span class="required">*</span></label>
                                    <input type="text" class="form-control-modern" value="{$proscale?$proscale:''}" placeholder="å¦‚ï¼š75,77,80,85ï¼ˆå•ä½ï¼š%ï¼‰" name="proscale">
                                    <div class="alert-modern alert-warning">
                                        <strong>ğŸ’¡ è¯´æ˜ï¼š</strong> ä¾‹å¦‚æ¯”ä¾‹ä¸º75%ã€77%ã€80%ã€85%ï¼Œåˆ™ç”¨è‹±æ–‡é€—å·åˆ†éš”è¾“å…¥ï¼š75,77,80,85ã€‚å¿…é¡»ä¸ºå››ä¸ªï¼Œä¸”ä¸å¾—ä¸ºç©ºã€‚
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- å¼€å¸‚æ—¶é—´å¡ç‰‡ -->
                        <div class="modern-card">
                            <div class="card-header">
                                <i class="fa fa-clock-o"></i> å¼€å¸‚æ—¶é—´è®¾ç½®
                            </div>
                            <div class="card-body">
                                <div class="form-group-modern">
                                    <label class="form-label-modern">æ¯å‘¨äº¤æ˜“æ—¶é—´</label>
                                    
                                    <div class="time-grid">
                                        <div class="input-group-modern" style="margin-bottom: 15px;">
                                            <span class="input-addon">å‘¨ä¸€</span>
                                            <input type="text" value="{$opentime[0]?$opentime[0]:''}" class="form-control-modern" placeholder="00:00~18:00 æˆ– 00:00~03:00|08:00~24:00" name="opentime[1]">
                                        </div>

                                        <div class="input-group-modern" style="margin-bottom: 15px;">
                                            <span class="input-addon">å‘¨äºŒ</span>
                                            <input type="text" value="{$opentime[1]?$opentime[1]:''}" class="form-control-modern" placeholder="00:00~18:00 æˆ– 00:00~03:00|08:00~24:00" name="opentime[2]">
                                        </div>

                                        <div class="input-group-modern" style="margin-bottom: 15px;">
                                            <span class="input-addon">å‘¨ä¸‰</span>
                                            <input type="text" value="{$opentime[2]?$opentime[2]:''}" class="form-control-modern" placeholder="00:00~18:00 æˆ– 00:00~03:00|08:00~24:00" name="opentime[3]">
                                        </div>

                                        <div class="input-group-modern" style="margin-bottom: 15px;">
                                            <span class="input-addon">å‘¨å››</span>
                                            <input type="text" value="{$opentime[3]?$opentime[3]:''}" class="form-control-modern" placeholder="00:00~18:00 æˆ– 00:00~03:00|08:00~24:00" name="opentime[4]">
                                        </div>

                                        <div class="input-group-modern" style="margin-bottom: 15px;">
                                            <span class="input-addon">å‘¨äº”</span>
                                            <input type="text" value="{$opentime[4]?$opentime[4]:''}" class="form-control-modern" placeholder="00:00~18:00 æˆ– 00:00~03:00|08:00~24:00" name="opentime[5]">
                                        </div>

                                        <div class="input-group-modern" style="margin-bottom: 15px;">
                                            <span class="input-addon">å‘¨å…­</span>
                                            <input type="text" value="{$opentime[5]?$opentime[5]:''}" class="form-control-modern" placeholder="00:00~18:00 æˆ– 00:00~03:00|08:00~24:00" name="opentime[6]">
                                        </div>

                                        <div class="input-group-modern" style="margin-bottom: 15px;">
                                            <span class="input-addon">å‘¨æ—¥</span>
                                            <input type="text" value="{$opentime[6]?$opentime[6]:''}" class="form-control-modern" placeholder="00:00~18:00 æˆ– 00:00~03:00|08:00~24:00" name="opentime[7]">
                                        </div>
                                    </div>

                                    <div class="alert-modern alert-warning">
                                        <strong>ğŸ’¡ è¯´æ˜ï¼š</strong> 
                                        <ul style="margin: 8px 0 0 0; padding-left: 20px;">
                                            <li>è¿ç»­æ—¶é—´æ®µï¼šç›´æ¥è¾“å…¥ 00:00~18:00</li>
                                            <li>å¤šä¸ªæ—¶é—´æ®µï¼šç”¨ç«–çº¿åˆ†éš”ï¼Œå¦‚ï¼š00:00~03:00|08:00~24:00</li>
                                            <li>ä¸å¼€å¸‚ï¼šç•™ç©ºå³å¯</li>
                                            <li>æ³¨æ„ï¼šå¿…é¡»ä½¿ç”¨è‹±æ–‡ç¬¦å·ï¼Œæ—¶é—´æ ¼å¼è¦å‡†ç¡®</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- å¤‡æ³¨ä¿¡æ¯å¡ç‰‡ -->
                        <div class="modern-card">
                            <div class="card-header">
                                <i class="fa fa-file-text-o"></i> å¤‡æ³¨ä¿¡æ¯
                            </div>
                            <div class="card-body">
                                <div class="form-group-modern">
                                    <label class="form-label-modern">å¤‡æ³¨</label>
                                    <textarea name="content" class="form-control-modern" placeholder="è¯·è¾“å…¥äº§å“ç›¸å…³å¤‡æ³¨ä¿¡æ¯...">{$content?$content:''}</textarea>
                                </div>
                            </div>
                        </div>

                        <!-- æäº¤æŒ‰é’® -->
                        <input type="hidden" name="pid" value="{$pid?$pid:''}">
                        <div class="form-footer">
                            <input type="submit" class="btn-submit-modern" onclick="return editpro(this.form)" value="{$pid?'ä¿å­˜ä¿®æ”¹':'æ·»åŠ äº§å“'}">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
</section>
<!--main content end-->


{include file="foot" /}
<script>

function editpro(form){

	var ptitle = form.ptitle.value;
	var cid = form.cid.value;
	var point_low = form.point_low.value;
	var point_top = form.point_top.value;
	var rands = form.rands.value;
  var procode = form.procode.value;
  var proscale = form.proscale.value;

	if(!ptitle){
		layer.msg('è¯·è¾“å…¥äº§å“åç§°'); 
	    return false;
	}

	if(!cid || cid == 0){
		layer.msg('è¯·é€‰æ‹©åˆ†ç±»'); 
	    return false;
	}



	if(point_low < 0 || isNaN(point_low) || point_top < 0 || isNaN(point_top) || rands < 0 || isNaN(rands)){
		layer.msg('é£æ§å€¼åº”ä¸ºå¤§äº0çš„æ•°å­—'); 
	    return false;
	}

	if(point_low > point_top ){
		layer.msg('é£æ§æœ€å°å€¼åº”è¯¥å°äºæœ€å¤§å€¼'); 
	    return false;
	}

  if(!procode ){
    layer.msg('è¯·è¾“å…¥äº§å“ä»£ç ï¼'); 
      return false;
  }

  if(!proscale ){
    layer.msg('è¯·è¾“å…¥ç›ˆäºæ¯”ä¾‹ï¼'); 
      return false;
  }




	var formurl = "{:Url('goods/proadd')}"
    var data = $('#formid').serialize();
    var locurl = "{:Url('admin/goods/prolist')}";

    WPpost(formurl,data,locurl);




	return false;

}


</script>